<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Rock, paper, scissors</h1>
    <div id='btnWrapper'> 
        <button id="rock" class="button">rock</button>
        <button id="paper" class="button">paper</button>
        <button id="scissors" class="button">scissors</button>
    </div>






    <script>
    
        let counterWin = 0;
        let counterDraw = 0;
        let counterLose = 0;

        let playerSelection = "";
        let buttons = document.querySelectorAll('.button');

        buttons.forEach((button) => {
            button.addEventListener("click", () => {
                playerSelection = button.id;
                //console.log(playerSelection);
                if (counterWin < 3 && counterDraw < 3 && counterLose <3) {
                    game();
                }
                else {
                    sumGame();
                }
            });
        });    

        //function to play a single game
        function game() {
            //computer function to randomly generate rock/paper or scissors
            function computerPlay(){
            let selection = ["rock","paper","scissors"],
            selectionToUse = selection[Math.floor(Math.random() * selection.length)];
                return selectionToUse;
            }
            let computerSelection = computerPlay();

            //Ask user to type input & store
            //let playerInitialSelection = prompt("please type rock, paper or scissors");
            //let playerSelection = playerInitialSelection.toLocaleLowerCase();

            //compare computer and user inputs.
            function playRound(playerSelection, computerSelection) {
                    
                if (playerSelection === "rock" & computerSelection === "paper") {
                    return "you lose";
                } else if (playerSelection === "rock" & computerSelection === "rock"){
                    return "draw, try again";
                } else if (playerSelection === "rock" & computerSelection === "scissors"){
                   return "you win";
                }

                else if (playerSelection === "paper" & computerSelection === "rock"){
                    return "you win";
                }
                else if (playerSelection === "paper" & computerSelection === "paper"){
                    return "draw, try again";
                }
                else if (playerSelection === "paper" & computerSelection === "scissors"){
                    return "you lose";
                }

                else if (playerSelection === "scissors" & computerSelection === "paper"){
                    return "you win";
                }
                else if (playerSelection === "scissors" & computerSelection === "scissors"){
                    return "draw, try again";
                }
                else if (playerSelection === "scissors" & computerSelection === "rock"){
                    return "you lose";
                }
                else {
                    return "incorrect choice, please choose rock or paper or scissors"
                }
            }
            let outcome = playRound(playerSelection, computerSelection);
            console.log(outcome);

            //loop to count & log the result of a game.
            if (outcome === "you win") {
                counterWin += 1;
               }
            else if (outcome === "draw, try again") {
                counterDraw += 1;
            }
            else {
                counterLose += 1;
            }
        }    
        
        //add up wins/losses and give result
        function sumGame(){
            if (counterWin === 3) {
                console.log("you have 3 wins, you win the game");
            }
            else if (counterLose === 3) {
                console.log("computer has 3 wins, you lose the game");
            }
            else if (counterDraw === 3) {
                console.log("it's a draw, better luck next time");
            }
        }

    </script>
</body>
</html>